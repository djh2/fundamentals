<html>  <head>    <title>CS 2510 Spring 2012: Lab 4 - Methods for Self-Referential Data; Abstracting over Data Definitions</title>  </head>    <h1>CS 2510 Spring 2012: Lab 4 - Methods for Self-Referential Data; Abstracting over Data Definitions</h1><h3>copyright 2012 Felleisen, Proulx, et. al.</h3>    <body><h4>Goals</h4><p>The goals of this lab are to practice designing methods for complexclass hierarchies, to learn a bit about the Java class that handles<tt>String</tt>s, and to learn how to design and use <em>abstractclasses</em> and <em>subclasses</em> to eliminate code duplication andto extend the functionality of libraries.</p><h3  class=section>1&nbsp;&nbsp;Methods for Self-Referential Data: Mobiles</h3><p>Start the lab by downloading the file <ahref="Mobile.java">Mobile.java</a>. Build a project named<em>Mobile</em> and import the file <em>Mobile.java</em> intoit. Add the </em>tester.jar</em> to the classpath, set us a new</em>RunConfiguration</em> that allows you to run the program, and runthe program.</p><p>The goal of this problem is to design class hierarchy that representshanging mobiles (shown below) and design some methods that provideinformation about the specific mobile structure.</p><p>The file <em>Mobiles.java</em> contains the data definitions, examplesof data, and the method <tt>countWeights</tt>.</p> <ol><li><p> Make an additional example of mobile data that represents the  following mobile (The number of dashes in the struts and lines  represents their length)</p>  <pre>                     |          - - - - - - - - - - - -         |                       |        60                       |       blue           - - - - - - - - - -                     |                   |                     |                  40                  - - - - - -           red                 |           |                10           |               green         5                            red</pre></li><li><p>Design the method <tt>totalWeight</tt> that computes the totalweight of a mobile. The weight of the lines and struts is given bytheir lengths (a strut of length <em>n</em> has weight $n$).</p></li> <li><p>Design the method <tt>height</tt> that computes the height ofthe mobile. We would like to hang the mobile in a room and want tomake sure it will fit in. </p></li></ol><p>Make sure you keep updating the <em>TEMPLATE</em> as you goalong. (We have already started you on your way.)</p> <p>When designing a method, copy the template from its fixed position,add to the template any new information based on the arguments themethod consumes, then design the method. Once you have the methodbody, you can delete the template you have used.</p><hr></hr><h3  class=section>2&nbsp;&nbsp;Understanding the <tt>String</tt> class</h3><p>For this problem start with the file <ahref="Strings.java">Strings.java</a> thatdefines a list of <tt>String</tt>s.</p><p><em>Note:</em> The following method defined for the class<tt>String</tt> may be useful:</p> <pre>// does this String come before the given String lexicographically?// produce value < 0   --- if this String comes before that String// produce value zero  --- if this String and that String are the same// produce value > 0   --- if this String comes after that Stringint compareTo(String that)</pre><ol><li><p>Design the method <tt>isSorted</tt> that determines whether the  list is sorted in alphabetical order.</p></li>  <p><em>Hint:</em> You may need a helper method. You may want remember  to the accumulator style functions we have seen in Scheme.</p></li> <li><p>Design the method <tt>merge</tt> that consumes two sorted lists of <tt>String</tt>s and produces a sorted list of <tt>String</tt>s that contains all items in both original lists (including duplicates).</p></li></ol><hr></hr><h3>Abstracting over Data Definitions</h3><h3  class=section>3&nbsp;&nbsp;Review of designing methods for unions of classes</h3><p>A file in a computer can contain either a text, or an image, or anaudio recording. Every file has a name and the owner of thefile. There is additional information for each kind of file as shownin the program <a href="Files.java">Files.java</a>.</p> <p>Download the file and work out the following problems:</p><ol><li><p> Make one more example of data for each of the three classes  and add the tests for the method <tt>size</tt> that is already  defined.</p></li>  <li><p> Design the method <tt>downloadTime</tt> that determines how many seconds does it take to download the file at the given download rate.</p><p>The rate is given in bytes per second.</p></li><li><p>Design the method <tt>sameOwner</tt> that determines whetherthe owner of this file is the same as the owner of the givenfile.</p></li></ol><em>Save the work you have done. Copy the file and continue.</em><h3  class=section>3&nbsp;&nbsp;Abstracting over data definitions:Lifting fields, lifting methods.</h3><p>Save your work. Possibly start a new project and import the fileinto it. Alternatively, save the a copy of the file you have beenworking on in another folder.</p><ol><li><p>Look at the code and identify all places where the code repeats ---the opportunity for abstraction.</p><p>Lift the common fields to an abstract class <tt>AFile</tt>.Make sure you include a constructor in the abstract class, and changethe constructors in the derived classes accordingly. Run the programand make sure all test cases work as before.</p></li><li><p>For each method that is defined in all three classes decide to whichcategory it belongs:</p><ul>  <li><p>The method bodies in the different classes are all different,  and so the method has to be declared as <tt>abstract</tt> in the  <tt>abstract</tt> class.</p></li>  <li><p>The method bodies are the same in all classes and it can be  implemented concretely in the <tt>abstract</tt> class.</p></li>  <li><p>The method bodies are the same for two of the classes, but are  different in one class --- therefore we can define the common body  in the <tt>abstract</tt> class and override it in only one derived  class. </p></li></ul><p>Now, lift the methods that can be lifted and run all testsagain.</p></li></ol><p><em>Note:</em> You can lift the method <tt>sameOwner</tt> only ifyou change its contract. Do so --- make sure you adjust the test casesaccordingly.</p> <!--Comment: ...--> <address></address><!-- hhmts start -->Last modified: Mon Jan 30 17:11:16 EST 2012 <!-- hhmts end --></body> </html>  </body></html>