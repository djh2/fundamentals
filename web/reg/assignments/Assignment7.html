<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<html> <head>
<title>CS 2510 Spring 2012: Assignment 7 - Understanding Mutation</title>
</head>


<h3>copyright 2012 Felleisen, Proulx, et. al.</h3>

<body>
<h1>CS 2510 Spring 2012:Assignment  7 - Understanding Mutation</h1>


<h4>Practice Problems</h4>

<p>Work out as the following exercises from the textbook. Do not add them
to your assignment submission, though you should keep them in your
electronic portfolio in your own <em>svn</em> repository.</p> 

<p><strong>Problem: Designing Mutable Lists</strong></p>

<p>Start a new project for this portfolio and import the files from
<tt>Lists.zip</tt> available from the assignment page. You should have
three files: <tt>Node.java</tt>, <tt>LoS.java</tt>, and
<tt>LinkedListExamples.java</tt>.</p>

<p>In the last lab we used a wrapper class (<tt>Bank</tt>) to implement a
mutable list of accounts.  This is because we cannot simply change an
empty list into a nonempty list (it's just not possible).  The example
files show a similar technique to maintaining a mutable list, but
instead of replacing the original list with a new list in our wrapper,
we directly change the structure of the list (inserting or removing
elements) by modifying/mutating the <tt>Nodes</tt> involved.</p>

<p>The <tt>LoS</tt> and <tt>Node</tt> classes represent a <em>collection</em>
of <tt>String</tt>s organized as a list. Instead of having two different
classes for the empty list and for nonempty list, we have a class that
represents a <tt>Node</tt> in a list (similar to our <em>Cons</em> class
that contained the data and a link to the next item), and a subclass
that represents the end of the list (a <em>sentinel</em>).  An
<tt>LoS</tt> list always contains one <tt>Node</tt>. If the list is empty,
the <tt>Node</tt> is our special <em>sentinel</em> node.</p>

<p>The following pictures illustrate the structure of an empty
<em>linked list</em> and a <em>linked list</em> after we added three
<tt>String</tt>s, "abc", "def", and "ghi":</p>

<pre>
        +------+
        | LoS  |
        +------+  +----------+
        | node |->| Sentinel | 
        +------+  +----------+
                  | ""       |
                  | null     |
                  +----------+
    
        +------+
        | LoS  |
        +------+  +-------+    +-------+    +-------+    +----------+
        | node |->|  Node | +->|  Node | +->|  Node | +->| Sentinel |
        +------+  +-------+ |  +-------+ |  +-------+ |  +----------+
                  | "abc" | |  | "def" | |  | "ghi" | |  | ""       |
                  | next  |-+  | next  |-+  | next  |-+  | null     | 
                  +-------+    +-------+    +-------+    +----------+
</pre>

<ol>
<li><p>Study the code and classes. Make sure you understand what is
  going on. Add an example to each test method defined in the
 <tt>LinkedListExamples</tt> class.</p></li>

<li><p>Add tests for the methods that are not tested. </p></li>

<li><p>Design the method <tt>removeNode</tt> for the <tt>LoS</tt> class
  that removes the <tt>Node</tt> that contains given <tt>String</tt>. </p></li>

<li><p>Design the method <tt>size</tt> that counts the number of nodes in
  a list (<tt>LoS</tt>), not including the <em>sentinel</em> node. </p></li>

</ol>

<hr></hr>

<h4>Pair Programming Assignment</h4>

<p>These problems should be checked into your pair's SVN repository
by the due date.</p>

<p><strong>Project naming requirements</strong></p>
<p>The names of the projects and some of the project files must be
exactly the same as specified in the assignment. Failure to do so
makes it impossible for the graders to run your submission and results
in immediate <strong>loss of at least 50%</strong> of the homework
credit.</p>

<p>Every file you submit must have a header that identifies you and
the problem it solves. So, for the first problem the header should
look like this:</p>

<pre>
// Assignment 7 Problem 1
// Partner Name1
// partner1username
// Partner Name2
// partner2username
// 28 February 2012
</pre>


<h3>Problem 1</h3>

<p>In this problem we will model one part of a social network system.</p>

<P>Create a project with the name <tt>HW07Problem1</tt>. Define
  the classes and interfaces that implement the class diagram shown.
  Notice, that we will need to break the circularity of this class
  diagram.</p>

<pre>
+------------------------------------------------+
|              +------------------+              |
|              |                  |              |
|              v                  |              v
|          +------+               |          +------+       
|          | ALoP |<------------+ |          | ALoG |<-----------+
|          +------+             | |          +------+            |
|          +------+             | |          +------+            |
|             / \               | |             / \              |
|             ---               | |             ---              |
|              |                | |              |               |
|     ----------------          | |     ----------------         |
|     |              |          | |     |              |         |
| +-------+    +--------------+ | | +-------+    +-------------+ |
| | MTLoP |    | ConsLoP      | | | | MTLoG |    | ConsLoG     | |
| +-------+    +--------------+ | | +-------+    +-------------+ |
| +-------+  +-| Person first | | | +-------+  +-| Group first | |
|            | | ALoP    rest |-+ |            | | ALoG rest   |-+ 
|            | +--------------+   |            | +-------------+
|            |                    |            |
|            v                    |            v
|    +-------------+              |     +--------------+
|    | Person      |              |     | Group        |
|    +-------------+              |     +--------------+
|    | String name |              |     | String name  |
|    | int age     |              |     | int limit    |
+----| ALoG groups |              +-----| ALoP members |
     +-------------+                   +---------------+
</pre>

<p>The classes represent people signed up for a social network
site. Each person can choose to join one or more groups. Each group
keeps track of the people who signed up for it. Some groups limit the
age of people who can sign up for the group (for example to keep
children from signing up for adult-oriented groups).</p>

<ol>
  
<li><p>Define examples of at least three <tt>Person</tt>s and eight
  <tt>Group</tt>s, with every person signed up for at least two groups.</p></li>

<li><p>Design the method <tt>join</tt> in the class <tt>Person</tt>
  that lets the person join the given group. Throw an exception if
  the person is already a member of the group, or if the person is too
  young to join the group. </p></li>


<li><p>Design the method <tt>dropGroup</tt> that removes the person
  from the given group.  Throw an exception if the person is not a
  member of the group.  </p></li>


<li><p>You meet an interesting person at a party. When you get home you wonder
  whether or not this person may be signed up for one of the groups
  you participate in.  Design the method <tt>canMeet</tt> that determines
  whether the given person has joined one of the groups this person
  has joined.</p></li>


<li><p>You now want to help the manager of this social network by
  writing the programs that will manage the network. Design
  the class <tt>MeetingPlace</tt> that will keep track of the list of
  people signed up for the network, the list of the groups, and will
  manage these lists.  Include your original examples of people and
  groups in the examples you design.</p></li>


<li><p>Design the method <tt>join</tt>> that consumes the name of a
  person, the person's age, and a group name, and makes the person a
  new member of the desired group.  The same restrictions on joining groups
  apply as before.  Additionally, the method should throw an exception
  if any of the information given does not exist (no person with the
  given name and age, or no group with the given name).</p></li>


<li><p>Design the method <tt>remove</tt> that consumes the name of a
  person, the person's age, and a group name, and removes the given
  person from the given group.  The same restrictions apply as
  above. </p></li>
  
</ol>

<p><strong>Note 1:</strong> Most of these methods require several
helper methods.  At least half of the grade for this homework will be
assessing the design of these helpers -- whether you truly follow the
rule <em>one task = one method</em>.</p>

<p><strong>Note 2:</strong> All of these methods (except
<tt>canMeet</tt>), are defined only to <em>affect</em> a change in the
registrar system. Design your tests carefully. At least one half of
the grade for this homework will be assessing the design and
implementation your tests for these methods.</p>

<p><strong>Note 3:</strong> Did you notice that the above two criteria
cover two halves of the grade for the homework? Well, there is some
<em>wiggle room</em>, but we really want you to understand how
important these two issues are (i.e., helpers and testing).</p>

<hr></hr>

<h3>Problem 2 Mutating Object State</h3>

<P>Create a project with the name <tt>HW07Problem2</tt>.</p>

<p>Here we extend what we learned in the portfolio problem.
We would like to build a list in such a way that we can start either
at the front, or at the back, and move through the list in either
direction. In order to do so, we have decided on the structures to
represent the following scenarios:</p>

<pre>
                  +-------+
                  | Deque |
                  +-------+  
               +--| head  |
               |  | tail  |--+
               |  +-------+  |  
               |             |
               v             v
          +----------+   +----------+
          |   Head   |   |   Tail   | 
          +----------+   +----------+
          | ""       |   | ""       |
          | next     |-->| null     |
          | null     |<--| prev     |
          +----------+   +----------+


                  +-------+
                  | Deque |
                  +-------+  
               +--| head  |
               |  | tail  |---------------------------------+
               |  +-------+                                 |
               |                                            |
               v                                            v
          +----------+   +----------+   +----------+   +----------+
          | Head     |   | Node     |   | Node     |   | Tail     | 
          +----------+   +----------+   +----------+   +----------+
          | ""       |   | "abc"    |   | "def"    |   | ""       |
          | abcnode  |-->| pqrnode  |-->| tailnode |-->| null     |
          | null     |<--| headnode |<--| abcnode  |<--| pqrnode  |
          +----------+   +----------+   +----------+   +----------+
</pre>

<p>
Instead of one <em>sentinel</em> node, we have two of them: one
marking the head of the queue and the other marking the tail of the
queue. Additionally, we have a new field in each node, a reference to
the previous item in the list.
</p>

<p>The class diagram for modeling this data would then be:</p>

<pre>
                           +------------+
                           |   Deque    |
                           +------------+  
                        +--| Node head  |
                        |  | Node tail  |--+
                        |  +------------+  |  
                        |                  |
                        +-------+ +--------+
                                | |
                  +----------+  | |  +-----------+
                  |     +--+ |  | |  | +--+      |
                  |     |  | |  | |  | |  |      |
                  |     |  v v  v v  v v  |      |
                  |     | +-------------+ |      |
                  |     | |    Node     | |      |
                  |     | +-------------+ |      |
                  |     | | String data | |      |
                  |     +-| Node   next | |      |
                  |       | Node   prev |-+      |
                  |       +-+---------+-+        |
                  |        / \       / \         |
                  |       +---+     +---+        |
                  |         |         |          |
                  | +-----------+  +-----------+ |
                  | |   Head    |  |   Tail    | |
                  | +-----------+  +-----------+ |
                  | | ""        |  | ""        | |
                  +-| Node next |  | null      | |
                    | null      |  | Node prev |-+
                    +-----------+  +-----------+
</pre>

<ol>

  <li><p>Define the classes <tt>Node</tt>, <tt>Head</tt>, <tt>Tail</tt>, and
  <tt>Deque</tt> that implement   <em>doubly-linked</em> lists of
  <tt>String</tt>s. Use the code from the portfolio problems as your
  model. </p></li>

  <li><p>Make examples of three lists: the empty list, a list with two
  values (<tt>"abc"</tt> and <tt>"def"</tt>) shown in the drawing at the
  beginning of this problem, and a list with three values, ordered
  lexicographically from the <tt>head</tt> to the <tt>tail</tt>.</p></li>

  <li><p>Design the method <tt>size</tt> that counts the number of nodes in
  a list (<tt>Deque</tt>), not including the two sentinel nodes (the
  <tt>head</tt> and the <tt>tail</tt>).</p></li>

  <li><p>Design the method <tt>addAtHead</tt> for the class <tt>Deque</tt>
  that consumes a <tt>String</tt> and inserts it at the <tt>head</tt> of
  this list.  Be sure to fix up all the links correctly!</p></li>

  <li><p>Design the method <tt>addAtTail</tt> for the class <tt>Deque</tt>
  that consumes a <tt>String</tt> and inserts it at the <tt>tail</tt> of
  this list. Again, be sure to fix up all the links correctly!</li><p>

  <li><p>Design the method <tt>removeFromHead</tt> for the class
  <tt>Deque</tt> that removes the first node from this
  <tt>Deque</tt>. Beside the obvious <em>effect</em>, it should produce
  the <tt>String</tt> that was removed.</p>

  <p>Throw an exception, if an attempt is made to remove from
  an empty list.</p></li>

  <li><p>Design the method <tt>removeFromTail</tt> for the class
  <tt>Deque</tt> that removes the last node from this <tt>Deque</tt>.
  Beside the obvious <em>effect</em>, it should produce the
  <tt>String</tt> that was removed.</p>

  <p>Throw an exception, if an attempt is made to remove from
  an empty list.</p></li>

  <li><p>Design the method <tt>insertSorted</tt> for the class <tt>Deque</tt>
  that consumes a <tt>String</tt> and inserts it into this sorted list
  in the correct order.</p></li>

  <li><p>Design the method <tt>removeSorted</tt> for the class <tt>Deque</tt>
  that removes the node that contains the given <tt>String</tt> from
  this <tt>Deque</tt>.</p>

  <p>Throw an exception, if the there is no such <tt>String</tt>.</p></li>

  <li><p>Design the method <tt>toLowerCase</tt> for the class <tt>Deque</tt>
  that changes all the <tt>String</tt>s to lower case.</p>

  <p>The class <tt>String</tt> defines the method <p>
  <tt>toLowerCase</tt> that produces a new <tt>String</tt> with all
  letters changed to lower case.</p>

  <p><strong>Note:</strong></p> Do not use this method with special characters
  without looking up the formal documentation for the method.</p></li>

  
</ol>

<hr></hr>
<address></address>
<!-- hhmts start -->Last modified: Mon Feb 20 10:12:09 EST 2012 <!-- hhmts end -->
</body> </html>
