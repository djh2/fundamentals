\documentclass[11pt]{article}

%% ------------------------------------------------------------------
%% SOLUTIONS:
\def\thel{\noindent\rule{2.5cm}{.5pt}}
\long\def\begsol#1 #2\endsol{#1}
%\def\begsol#1{\thel {\bf Solution} \thel}\def\endsol{\relax}
%%uncomment the above line to get the solutions printed

\newcommand\code[1]{\texttt{#1}}
\newcommand\bcode[1]{\texttt{\textbf{#1}}}

%% PROBLEMS:
\def\pts#1{\marginpar{\footnotesize \raggedright  \fbox{#1 {\sc Points}}}}
\newcounter{Pctr}
\newenvironment{problem}{\stepcounter{Pctr}%
\begin{description}
\item[\noindent{\bf Problem} \arabic{Pctr}] 
\end{description}}{\relax}
%% ------------------------------------------------------------------

%% SUBPARTS:
\newcounter{parts}
\renewcommand{\theparts}{\Alph}
%% ------------------------------------------------------------------

\begin{document}

\renewcommand{\theenumi}{\Alph{enumi}}
\setcounter{Pctr}{0}

%% ------------------------------------------------------------------

\vfill
\centerline{\Large CS 2510 Exam 4 -- Summer 2012}

~\\[2cm]

\begin{center}
\begin{tabular}{l@{\qquad}l}
Name:                        & \rule{200pt}{.1pt} \\[.5cm]
Student Id (last 4 digits):  & \rule{200pt}{.1pt} \\[.5cm]
\end{tabular}
\end{center}

\noindent\begin{minipage}{7.5cm} $\bullet$ Write down the answers in the
space provided. 

$\bullet$ You may use all syntax of Java that we have studied in
class.

$\bullet$ For tests you only need to provide the expression that
computes the actual value, connecting it with an arrow to the expected
value. For example \code{s.method() -> true} is sufficient.

$\bullet$ Remember that the phrase ``design a class'' or ``design a
method'' means more than just providing a definition. It means to
design them according to the \textbf{design recipe}.  You are
\textit{not} required to provide a method template unless the problem
specifically asks for one.  However, be prepared to struggle if you
choose to skip the template step.

\bigskip

\textit{Good luck!}
\end{minipage}\hfil\begin{minipage}[t]{4.5cm}
\begin{tabular}{|c|l@{\qquad\qquad}|r|}
\hline
\textbf{Score} &  & 45 \\ \hline
\end{tabular}
\end{minipage}

\vfill\thispagestyle{empty}
\newpage

%% -----------------------------------------------------------------------------
%% 
\pts{45}
\begin{problem}
An association list is a way of representing an association between
values.  For example, you might you use an association list to
associate students with their grades, or battleships with their
position, or bank account numbers with their account balances.

The representation of an association list is much like a typical list,
except that every ``cons'' has \emph{two} elements and the rest of the
list.  One element is a ``key'', the other is its association.

Here is a data definition for association lists parameterized over the
types of keys and their values:

\begin{verbatim}
interface Assoc<K,V> {}

class EmptyAssoc<K,V> implements Assoc<K,V> {}

class ConsAssoc<K,V> implements Assoc<K,V> {
  K key;
  V val;
  Assoc<K,V> rest;
  ConsAssoc(K key, V val, Assoc<K,V> rest) {
    this.key = key;
    this.val = val;
    this.rest = rest;
  }
}
\end{verbatim}

\begin{enumerate}
\item Develop the visitor pattern for association lists.
\item Design an implementation of an association list visitor that
  looks up the (first) value associated to a given key.  If the key is
  not in the list, the visitor shoud throw an exception.
\item Using the double dispatch approach, design a {\tt same} method
  that determines if this association list is structurally equal to a
  given association list.
\end{enumerate}
\end{problem}
\newpage
\ 
\newpage
\ 
\end{document}

